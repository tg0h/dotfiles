#!/bin/zsh

function acdsf(){
  # aws ecs describe services fuzzy
  # acdsf -n <eventsToShow>
  # acdsf -c <cluster= d|s|p>
  local number clusterOpt plain

  while getopts 'n:c:p' opt; do
    case "$opt" in
      n) number=$OPTARG;;
      c) clusterOpt=$OPTARG;;
      p) plain="-p";;
    esac
  done
  shift $(($OPTIND - 1))

  number=${number:-2}
  clusterOpt=${clusterOpt:-s}

  local results=$(acls -c $clusterOpt | fzf | join-lines)
  acds $plain -n $number -c $clusterOpt $results
} 
