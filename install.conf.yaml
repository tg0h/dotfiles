# TODO: prefix '.' doesn't seem to be working, how to create a .filename alias with a glob pattern?
# TODO: see https://github.com/rafi/.config for a solution to how to store secrets!

- defaults:
    link:
      # create directories to create symlink if needed
      create: true
      relink: true
#remove dead symobolic links from the ~ directory
- clean: ['~']
- create:
  - ~/.mutt #create the mutt config directory so that the muttrc file below can be placed in it
# <target>:<source (original file)>
- link:
    ~/.config/: 
      glob: true
      path: config/*
      exclude: 
        - config/aws
        - config/cheat
        - config/iterm2
        - config/ssh
        - config/nvim
        - config/vim
        - config/zsh
    ~/.config/nvim/init.vim: config/nvim/init.vim
    ~/.config/cheat/conf.yml: config/cheat/conf.yml
    ~/.config/cheat/cheatsheets/personal: config/cheat/cheatsheets/personal

    # ~/: 
    #   glob: true
    #   path: config/env/*
    #   prefix: '.'
    ~/.env: config/env/env
    ~/.zshenv: config/env/zshenv
    ~/.zprofile: config/env/zprofile
    ~/.zshrc: config/env/zshrc

    ~/.ssh/ : 
      glob: true
      path: config/ssh/*

    ~/Library/Application Support/com.clickontyler.TextBuddy/scripts: share/textBuddy/
    ~/.ideavimrc: config/ideavim/ideavimrc #webstorm ideavim emulation rc file
    ~/.mutt/muttrc : config/mutt/muttrc #mail client
    ~/.p10k.zsh: config/zsh/p10k/p10k.zsh
    ~/.vimrc: config/vim/vimrc

    ~/.local/bin/zsh_functions: bin/zsh_functions/ #autoload function directory
    ~/.local/lib/:
      glob: true
      path: lib/*
    ~/.aws/: 
      glob: true
      path: config/aws/*

    # certis
    ~/src/edo/abc-cli/config/environment/: 
      glob: true
      path: config/abc-cli/env/*
    ### certify sync job
    ~/Library/LaunchAgents/certify-validate-sync.plist: bin/certify/certify-validate-sync.plist
    # me
    ~/dev/working/timtoggl/timtoggl/.env: config/timtoggl/secret/env
    ~/.local/lib/abs: ~/dev/working/abs/abs
